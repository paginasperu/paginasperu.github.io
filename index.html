<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Libro de Reclamaciones Virtual - Tu Empresa</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* =========================================
           ESTILOS (CSS)
           ========================================= */
        :root {
            --primary: #b91c1c; /* Rojo Indecopi/Libro */
            --dark: #1e293b;
            --light: #f1f5f9;
            --border: #cbd5e1;
            --text: #334155;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Roboto', sans-serif; background-color: #f8fafc; color: var(--text); padding: 20px; }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #e2e8f0;
        }

        /* HEADER */
        header {
            background: var(--dark);
            color: white;
            padding: 20px;
            text-align: center;
            border-bottom: 4px solid var(--primary);
        }
        .header-title { font-size: 1.8rem; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; }
        .header-legal { font-size: 0.9rem; opacity: 0.8; margin-top: 5px; }
        .empresa-info { background: #f8fafc; padding: 15px; border-bottom: 1px solid var(--border); text-align: center; color: var(--dark); }
        .empresa-info h3 { font-size: 1.2rem; margin-bottom: 5px; }
        .fecha-info { font-weight: bold; color: var(--primary); margin-top: 10px; }

        /* FORMULARIO */
        form { padding: 30px; }

        fieldset {
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 20px;
            margin-bottom: 25px;
            background-color: #fff;
        }

        legend {
            font-weight: 700;
            color: var(--primary);
            padding: 0 10px;
            font-size: 1.1rem;
            background: white;
            border-radius: 4px;
            border: 1px solid var(--border);
        }

        .row { display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 15px; }
        .col { flex: 1; min-width: 250px; }
        .col-full { flex: 100%; }

        label { display: block; margin-bottom: 6px; font-weight: 500; font-size: 0.9rem; color: var(--dark); }
        label span { color: var(--primary); } /* Asterisco rojo */

        input[type="text"], input[type="email"], input[type="tel"], input[type="number"], select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-family: inherit;
            font-size: 1rem;
            transition: border 0.2s;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(185, 28, 28, 0.1);
        }

        /* RADIOS BIEN/SERVICIO */
        .radio-group { display: flex; gap: 20px; align-items: center; padding: 10px 0; }
        .radio-item { display: flex; align-items: center; gap: 5px; cursor: pointer; }

        /* DEFINICIONES */
        .info-box {
            background-color: #fff7ed;
            border-left: 4px solid #f97316;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 0.85rem;
            color: #7c2d12;
        }
        .info-box strong { display: block; margin-bottom: 4px; }

        /* CHECKBOX LEGAL */
        .checkbox-legal { display: flex; align-items: flex-start; gap: 10px; margin: 20px 0; font-size: 0.9rem; }
        .checkbox-legal input { margin-top: 4px; }

        /* BOTONES */
        .btn-submit {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1rem;
            font-weight: 700;
            border-radius: 6px;
            cursor: pointer;
            width: 100%;
            transition: background 0.3s;
            text-transform: uppercase;
        }
        .btn-submit:hover { background-color: #991b1b; }

        /* MODAL ÉXITO */
        .modal {
            display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.5); align-items: center; justify-content: center;
        }
        .modal-content {
            background-color: white; padding: 40px; border-radius: 10px; text-align: center;
            max-width: 500px; width: 90%; box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        .icon-check { color: #16a34a; font-size: 4rem; margin-bottom: 20px; }
        .modal h2 { margin-bottom: 10px; color: var(--dark); }
        .modal p { color: var(--text); margin-bottom: 20px; }
        .btn-close { background: var(--dark); color: white; border: none; padding: 10px 25px; border-radius: 4px; cursor: pointer; }

        @media (max-width: 600px) {
            .row { flex-direction: column; gap: 15px; }
            form { padding: 20px; }
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <div class="header-title">Libro de Reclamaciones</div>
            <div class="header-legal">Conforme al Código de Protección y Defensa del Consumidor</div>
        </header>

        <div class="empresa-info">
            <h3 id="nombreEmpresa">MI EMPRESA S.A.C.</h3>
            <p>RUC: <span id="rucEmpresa">20123456789</span></p>
            <p>Dirección: Av. Ejemplo 123, Lima, Perú</p>
            
            <div class="fecha-info">
                Hoja de Reclamación N°: <span id="numeroHoja">000001-2025</span> | Fecha: <span id="fechaActual">--/--/----</span>
            </div>
        </div>

        <form id="libroReclamaciones" onsubmit="enviarReclamo(event)">
            
            <fieldset>
                <legend>1. Identificación del Consumidor Reclamante</legend>
                
                <div class="row">
                    <div class="col">
                        <label>Tipo de Documento <span>*</span></label>
                        <select name="tipo_doc" required>
                            <option value="DNI">DNI</option>
                            <option value="CE">Carnet Extranjería</option>
                            <option value="RUC">RUC</option>
                            <option value="Pasaporte">Pasaporte</option>
                        </select>
                    </div>
                    <div class="col">
                        <label>N° Documento <span>*</span></label>
                        <input type="text" name="numero_doc" required pattern="[0-9A-Za-z]{8,15}" title="Ingrese un número válido">
                    </div>
                </div>

                <div class="row">
                    <div class="col-full">
                        <label>Nombres y Apellidos / Razón Social <span>*</span></label>
                        <input type="text" name="nombre" required>
                    </div>
                </div>

                <div class="row">
                    <div class="col-full">
                        <label>Domicilio <span>*</span></label>
                        <input type="text" name="direccion" required>
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <label>Teléfono / Celular <span>*</span></label>
                        <input type="tel" name="telefono" required>
                    </div>
                    <div class="col">
                        <label>Email <span>*</span></label>
                        <input type="email" name="email" required>
                    </div>
                </div>

                <div class="checkbox-legal" style="margin-bottom: 10px;">
                    <input type="checkbox" id="esMenor" onchange="toggleApoderado()">
                    <label for="esMenor" style="display:inline; font-weight:400;">Soy menor de edad</label>
                </div>

                <div class="row" id="campoApoderado" style="display:none;">
                    <div class="col-full">
                        <label>Nombre del Padre o Apoderado</label>
                        <input type="text" name="apoderado">
                    </div>
                </div>
            </fieldset>

            <fieldset>
                <legend>2. Identificación del Bien Contratado</legend>
                
                <div class="row">
                    <div class="col">
                        <label>Tipo de Bien <span>*</span></label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="tipo_bien" value="Producto" required> Producto
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="tipo_bien" value="Servicio"> Servicio
                            </label>
                        </div>
                    </div>
                    <div class="col">
                        <label>Monto Reclamado (S/)</label>
                        <input type="number" step="0.01" name="monto">
                    </div>
                </div>

                <div class="row">
                    <div class="col-full">
                        <label>Descripción del Producto o Servicio <span>*</span></label>
                        <textarea name="descripcion_bien" rows="2" placeholder="Ej: Zapatillas Nike talla 42 / Servicio de delivery..." required></textarea>
                    </div>
                </div>
            </fieldset>

            <fieldset>
                <legend>3. Detalle de la Reclamación y Pedido</legend>

                <div class="info-box">
                    <strong>RECLAMO:</strong> Disconformidad relacionada a los productos o servicios.
                    <br>
                    <strong>QUEJA:</strong> Disconformidad no relacionada a los productos o servicios; o malestar o descontento respecto a la atención al público.
                </div>

                <div class="row">
                    <div class="col">
                        <label>Tipo de Reclamación <span>*</span></label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="tipo_reclamacion" value="Reclamo" required> Reclamo
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="tipo_reclamacion" value="Queja"> Queja
                            </label>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-full">
                        <label>Detalle del Reclamo o Queja <span>*</span></label>
                        <textarea name="detalle_reclamacion" rows="4" placeholder="Describa los hechos..." required></textarea>
                    </div>
                </div>

                <div class="row">
                    <div class="col-full">
                        <label>Pedido del Consumidor <span>*</span></label>
                        <textarea name="pedido" rows="3" placeholder="¿Qué solución espera? (Ej: Cambio de producto, devolución, etc.)" required></textarea>
                    </div>
                </div>
            </fieldset>

            <div class="checkbox-legal">
                <input type="checkbox" id="declaracion" required>
                <label for="declaracion" style="display:inline; font-weight:400; cursor:pointer;">
                    Declaro ser el consumidor y que los datos consignados son verdaderos. Acepto que la respuesta a mi reclamo o queja sea enviada al correo electrónico proporcionado.
                </label>
            </div>

            <button type="submit" class="btn-submit">Enviar Hoja de Reclamación</button>

        </form>
    </div>

    <div id="modalExito" class="modal">
        <div class="modal-content">
            <div class="icon-check">✓</div>
            <h2>¡Reclamo Registrado!</h2>
            <p>Se ha enviado una copia a tu correo electrónico.</p>
            <p><strong>N° de Hoja: <span id="modalNumero">000001-2025</span></strong></p>
            <p style="font-size: 0.8rem; color:#666;">La empresa tiene un plazo legal de hasta 15 días hábiles para responder.</p>
            <button class="btn-close" onclick="cerrarModal()">Cerrar</button>
        </div>
    </div>

    <script>
        // 1. FECHA AUTOMÁTICA
        document.addEventListener('DOMContentLoaded', () => {
            const fecha = new Date();
            const opciones = { year: 'numeric', month: '2-digit', day: '2-digit' };
            document.getElementById('fechaActual').textContent = fecha.toLocaleDateString('es-PE', opciones);
            
            // Generar número aleatorio para simular folio
            const randomId = Math.floor(100000 + Math.random() * 900000);
            const folio = `${randomId}-${fecha.getFullYear()}`;
            document.getElementById('numeroHoja').textContent = folio;
            document.getElementById('modalNumero').textContent = folio;
        });

        // 2. TOGGLE APODERADO
        function toggleApoderado() {
            const check = document.getElementById('esMenor');
            const campo = document.getElementById('campoApoderado');
            if (check.checked) {
                campo.style.display = 'flex';
                campo.querySelector('input').required = true;
            } else {
                campo.style.display = 'none';
                campo.querySelector('input').required = false;
            }
        }

        // 3. ENVÍO DEL FORMULARIO
        function enviarReclamo(e) {
            e.preventDefault(); // Evita que la página se recargue

            // Aquí normalmente conectarías con un Backend o EmailService
            // Ejemplo: Formspree, EmailJS, o tu base de datos PHP/Node.
            
            // Simulamos tiempo de carga
            const btn = document.querySelector('.btn-submit');
            const textoOriginal = btn.textContent;
            btn.textContent = "Enviando...";
            btn.disabled = true;

            setTimeout(() => {
                // Mostrar Modal de éxito
                document.getElementById('modalExito').style.display = 'flex';
                
                // Resetear botón
                btn.textContent = textoOriginal;
                btn.disabled = false;
                
                // Limpiar formulario (Opcional)
                document.getElementById('libroReclamaciones').reset();
            }, 1500);
        }

        function cerrarModal() {
            document.getElementById('modalExito').style.display = 'none';
        }
    </script>

</body>
</html>
